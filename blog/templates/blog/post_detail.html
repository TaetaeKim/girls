{% extends 'blog/base.html' %}

{% block content %}
<br>
{% if post.published_date %}
    <a href="/blog/" id="back"><i class="fas fa-arrow-left"></i> 뒤로가기</a><br><br>
{% else %}
    <a href="/blog/drafts" id="back"><i class="fas fa-arrow-left"></i> 뒤로가기</a><br><br>
{% endif %}
<div class="post">
    {% if user.is_authenticated %}

    <a style="float: right" class="btn btn-outline-dark" href="{% url 'post_remove' pk=post.pk %}">
        <i class="fas fa-trash-alt"></i>
    </a>

    <a style="float: right; margin-left: 5px; margin-right: 5px;" class="btn btn-outline-dark" href="{% url 'post_edit' pk=post.pk %}">
       <i class="fas fa-pencil-alt"></i>
    </a>

    {% if post.published_date %}
    <div class="date">
        {{ post.published_date }}
    </div>
    {% else %}
        <a style="float: right" class="btn btn-outline-dark" href="{% url 'post_publish' pk=post.pk %}">
            <i class="fas fa-file-upload"></i>
        </a>
    {% endif %}

    {% endif %}
    <h1>{{ post.title }}</h1>
    <p>{{ post.text|linebreaksbr }}</p>
</div>

<hr>
<strong style="color: rgba(30, 0, 73, 0.8);">댓글</strong><p></p>
{% for comment in post.comments.all %}
    <div class="comment">
        <div class="date">{{ comment.created_date }}</div>
        <p><strong>{{ comment.author }}</strong> {{ comment.text|linebreaksbr }}</p>
    </div>
{% empty %} {# for 루프의 내용이 없을 경우 #}
    <p>아직 아무 댓글로 달리지 않았어요 :(</p>
{% endfor %}

{% endblock %}
